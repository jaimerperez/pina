(self.webpackChunk=self.webpackChunk||[]).push([[384],{3384:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>y});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"flex w-screen h-full font-Barlow"},[s("aside",[s("UserSideBar",{attrs:{idRol:t.idRolName}})],1),t._v(" "),s("section",{staticClass:"w-full"},[s("router-view",[s("Welcome")],1)],1)]),t._v(" "),s("Footer")],1)};i._withStripped=!0;s(1539),s(8674);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sideNavBar-container h-full flex flex-col flex-wrap items-center bg-sideBar-primary md:w-full"},[s("div",{staticClass:"h-screen flex flex-col flex-wrap items-center bg-sideBar-primary md:w-full"},[s("div",{staticClass:"flex"},[s("router-link",{attrs:{to:"/user/department"}},[s("img",{staticClass:"my-10 w-10 h-10 sm:w-24 sm:h-24",attrs:{src:"/assets/images/build/LOGO_Piña-02.png"}})])],1),t._v(" "),s("div",{staticClass:"block sm:hidden"},[s("button",{staticClass:"flex items-center px-3 py-2 border rounded text-teal-lighter border-teal-light hover:text-white hover:border-white",on:{click:t.toggle}},[s("svg",{staticClass:"fill-current h-3 w-3",attrs:{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[s("title",[t._v("Menu")]),s("path",{attrs:{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"}})])])]),t._v(" "),s("div",{staticClass:"sidenavBar-element-container flex-grow sm:flex sm:items-center",class:t.open?"block":"hidden"},[s("div",{staticClass:"text-sm h-full flex flex-col items-start sm:flex-grow justify-between"},[s("div",{staticClass:"flex flex-col"},[s("div",{staticClass:"text-white  ml-3 flex flex-row m-2"},[s("icon-base",{attrs:{"icon-name":"boards"}},[s("Boards")],1),t._v(" "),s("div",{on:{mouseover:function(e){t.active=!0},mouseleave:function(e){t.active=!1}}},[s("a",{staticClass:"ml-3 mr-3 group cursor-pointer hover:text-block-working-primary"},[t._v("Mis tableros")]),t._v(" "),t._l(t.teams,(function(e){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],key:e.id},[s("router-link",{staticClass:"hover:text-indigo-500",attrs:{to:{name:"teams",params:{boardName:e.name,boardTeamID:e.id}}}},[t._v(t._s(e.name))])],1)}))],2)],1),t._v(" "),s("div",{directives:[{name:"popover",rawName:"v-popover:foo.right",arg:"foo",modifiers:{right:!0}}],staticClass:"text-white  ml-3 hover:text-indigo-500 cursor-pointer flex flex-row m-2"},[s("icon-base",{attrs:{"icon-name":"notification"}},[s("Notification")],1),t._v(" "),t._m(0)],1),t._v(" "),(t.idRol,s("div",{staticClass:"text-white  ml-3 hover:text-indigo-500 cursor-pointer flex flex-row m-2"},[s("icon-base",{attrs:{"icon-name":"department"}},[s("Schedule")],1),t._v(" "),s("div",[s("a",{staticClass:"ml-3 mr-3"},[s("router-link",{attrs:{to:"/user/department"}},[t._v("Departamentos")])],1)])],1)),t._v(" "),(t.idRol,s("div",{staticClass:"text-white  ml-3 hover:text-indigo-500 cursor-pointer flex flex-row m-2"},[s("icon-base",{attrs:{"icon-name":"department",viewBox:"0 0 760 652"}},[s("Incidencias")],1),t._v(" "),s("div",[s("a",{staticClass:"ml-3 mr-3"},[s("router-link",{attrs:{to:"/user/welcome"}},[t._v("Incidencias")])],1)])],1)),t._v(" "),(t.idRol,s("div",{staticClass:"text-white  ml-3 hover:text-indigo-500 cursor-pointer flex flex-row m-2"},[s("icon-base",{attrs:{"icon-name":"department",viewBox:"0 0 760 652"}},[s("Incidencias")],1),t._v(" "),s("div",[s("a",{staticClass:"ml-3 mr-3"},[s("router-link",{attrs:{to:"/user/admin"}},[t._v("Admin")])],1)])],1))]),t._v(" "),s("div",{staticClass:"place-self-center"},[t.userInfo.id?s("div",{staticClass:"w-12 h-12 place-self-center cursor-pointer m-2"},[s("router-link",{attrs:{to:{name:"profileUser",params:{idUser:t.userInfo.id}}}},[t.exist?s("div",[s("img",{staticClass:"w-12 h-12 rounded-full ",attrs:{src:"/assets/images/users/"+t.userInfo.id}})]):s("div",[s("img",{staticClass:"w-12 h-12 rounded-full ",attrs:{src:"/assets/images/avatar-loading.png"}})])])],1):t._e(),t._v(" "),s("div",{staticClass:"place-self-center m-2"},[s("button",{staticClass:"text-white rounded bg-red-500",attrs:{type:"button"},on:{click:t.logout}},[t._v("LOG OUT")])])])])])]),t._v(" "),s("popover",{attrs:{name:"foo",width:500}},[t._v("\n    Notificaciones\n    "),s("div",{staticClass:"flex flex-row justify-around"},[s("div",{staticClass:"hover:text-sideBar-primary cursor-pointer"},[t._v("Todos")]),t._v(" "),s("div",[t._v("No leido")]),t._v(" "),s("div",[t._v("Me mencionaron")]),t._v(" "),s("div",[t._v("Me asignaron")])]),t._v(" "),s("div",{staticClass:"spacer bg-sideBar-primary w-full h-0.5"})])],1)};a._withStripped=!0;var r=s(6745),o=s(2794),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",[s("path",{attrs:{d:"M247,42.38A144.71,144.71,0,0,0,42.38,247,144.71,144.71,0,0,0,247,42.38ZM144.7,272.45A127.75,127.75,0,1,1,272.45,144.7,127.89,127.89,0,0,1,144.7,272.45Zm0,0"}}),t._v(" "),s("path",{staticClass:"cls-1",attrs:{d:"M210.75,117.63l-74,74a14,14,0,0,1-19.86,0L78.67,153.43a14,14,0,0,1,19.86-19.86l28.28,28.28,64.08-64.08a14,14,0,0,1,19.86,19.86Z"}})])};n._withStripped=!0;var l=s(1900),c=(0,l.Z)({},n,[],!1,null,null,null);c.options.__file="assets/components/icons/Boards.vue";const d=c.exports;var v=s(3563),u=function(){var t=this.$createElement;return(this._self._c||t)("path",{attrs:{d:"M295.29,0H35.66A35.7,35.7,0,0,0,0,35.66V253.75a35.7,35.7,0,0,0,35.66,35.66H295.29A35.7,35.7,0,0,0,331,253.75V35.66A35.7,35.7,0,0,0,295.29,0Zm0,19.39a16.15,16.15,0,0,1,2.38.18L177,140.26a16.29,16.29,0,0,1-23,0L33.28,19.57a16.16,16.16,0,0,1,2.38-.18Zm16.27,234.36A16.29,16.29,0,0,1,295.29,270H35.66a16.29,16.29,0,0,1-16.27-16.27V35.66a16.43,16.43,0,0,1,.17-2.38L140.26,154a35.7,35.7,0,0,0,50.43,0L311.38,33.28a16.45,16.45,0,0,1,.17,2.38Zm0,0"}})};u._withStripped=!0;var m=(0,l.Z)({},u,[],!1,null,null,null);m.options.__file="assets/components/icons/Mail.vue";const f=m.exports;var h=function(){var t=this.$createElement;return(this._self._c||t)("path",{attrs:{d:"M224.84,125.94A53.89,53.89,0,1,0,177,47.32a88.19,88.19,0,0,0-19.57-7.91,26.64,26.64,0,1,0-46.74,0,89.36,89.36,0,0,0-65.85,86.09v75.65a26.64,26.64,0,0,0,8.48,51.9H90a44.8,44.8,0,0,0,88,0h36.74a26.64,26.64,0,0,0,8.48-51.9V125.91l1.61,0Zm0-90.82a36.93,36.93,0,1,1-36.93,36.93,37,37,0,0,1,36.93-36.93ZM134,17a9.68,9.68,0,1,1-9.68,9.68A9.7,9.7,0,0,1,134,17Zm0,255.49a27.9,27.9,0,0,1-26.53-19.37h53.06A27.9,27.9,0,0,1,134,272.45Zm72.25-146.92v82.75a8.48,8.48,0,0,0,8.48,8.48,9.68,9.68,0,0,1,0,19.37H53.3a9.68,9.68,0,1,1,0-19.37,8.48,8.48,0,0,0,8.48-8.48V125.53A72.26,72.26,0,0,1,171.58,63.81a53.92,53.92,0,0,0,34.62,58.81c0,1,.07,1.95.07,2.92Zm0,0"}})};h._withStripped=!0;var p=(0,l.Z)({},h,[],!1,null,null,null);p.options.__file="assets/components/icons/Notification.vue";const _=p.exports;var g=s(9034),x=s(8933),w=s(8524),C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",[s("g",[s("g",[s("path",{staticClass:"st3",attrs:{d:"M741.6,544.1L437.1,39c-12-19.9-33.9-32.3-57.1-32.3S334.9,19.2,322.9,39l-304.5,505\n\t\t\t\t\tc-12.4,20.6-12.8,46.3-1,67.2c11.8,20.9,34.1,33.9,58.1,33.9h609c24,0,46.3-13,58.1-33.9C754.4,590.4,754,564.6,741.6,544.1z\n\t\t\t\t\t M700.5,587.5c-3.3,5.8-9.4,9.3-16,9.3h-609c-6.6,0-12.7-3.6-16-9.3c-3.3-5.8-3.1-12.8,0.3-18.5L364.3,64\n\t\t\t\t\tc3.3-5.5,9.3-8.9,15.7-8.9c6.4,0,12.4,3.4,15.7,8.9l304.5,505C703.7,574.7,703.8,581.8,700.5,587.5z"}})])]),t._v(" "),s("g",[s("g",[s("path",{staticClass:"st3",attrs:{d:"M380.2,205.7c-18.4,0-32.7,9.9-32.7,27.4c0,53.4,6.3,130,6.3,183.4c0,13.9,12.1,19.7,26.5,19.7\n\t\t\t\t\tc10.8,0,26-5.8,26-19.7c0-53.4,6.3-130,6.3-183.4C412.5,215.5,397.7,205.7,380.2,205.7z"}})])]),t._v(" "),s("g",[s("g",[s("path",{staticClass:"st3",attrs:{d:"M380.7,467.1c-19.7,0-34.5,15.7-34.5,34.5c0,18.4,14.8,34.5,34.5,34.5c18.4,0,34.1-16.1,34.1-34.5\n\t\t\t\t\tC414.8,482.8,399.1,467.1,380.7,467.1z"}})])])])};C._withStripped=!0;var b=(0,l.Z)({},C,[],!1,null,null,null);b.options.__file="assets/components/icons/Incidencias.vue";const k=b.exports,Z={name:"UserSideNav",props:{idRol:String},components:{IconBase:r.Z,Boards:d,IconAddUser:o.Z,List:v.Z,Mail:f,Notification:_,Schedule:g.Z,Incidencias:k},data:function(){return{open:!1,teams:[],userInfo:[],departments:[],active:!1,src:"",exist:!1}},methods:{show:function(){this.$modal.show("notificacion")},toggle:function(){this.open=!this.open},logout:function(){this.$router.push("/logout")},profileImg:function(t){this.src=t}},created:function(){var t=this,e=localStorage.getItem("validation_token");(0,x.Nh)(e).then((function(s){if("ERROR: Token no valido"==s)return localStorage.clear(),void location.reload();t.userInfo=s,fetch("/assets/images/users/"+t.userInfo.id).then((function(e){e.ok?t.exist=!0:t.exist=!1})).catch((function(e){t.exist=!1})),(0,x.nI)(e,t.userInfo.id).then((function(s){t.departments=s,(0,x._t)(e,t.departments[0].id).then((function(e){return t.teams=e}))}))})),w.N.$on("imgProfile",this.profileImg)}};var I=(0,l.Z)(Z,a,[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("a",{staticClass:"ml-3 mr-3"},[t._v("Notificaciones")])])}],!1,null,null,null);I.options.__file="assets/components/user/UserSideBar.vue";const S=I.exports;var M=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)};M._withStripped=!0;var B=(0,l.Z)({},M,[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("footer",{staticClass:"bg-fontColor-primary"},[s("div",{staticClass:"text-white text-center"},[t._v("© Copyright all rights reserved to Piña ")])])])}],!1,null,null,null);B.options.__file="assets/components/layout/Footer.vue";const N={name:"User",components:{UserSideBar:S,Footer:B.exports,Welcome:s(3271).Z},data:function(){return{idRol:null,idRolName:""}},methods:{getUser:function(){var t=this,e=new FormData;e.append("token",localStorage.getItem("validation_token")),fetch("/api/user",{method:"POST",body:e}).then((function(t){return t.json()})).then((function(e){t.idRol=e.id_rol,t.getRole(t.idRol)})).catch((function(e){t.errorMessage=e,console.error("There was an error!",e)}))},getRole:function(t){var e=this;fetch("/api/rol/"+t+"?token="+localStorage.getItem("validation_token")).then((function(t){return t.json()})).then((function(t){e.idRolName=t})).catch((function(t){e.errorMessage=t,console.error("There was an error!",t)}))}},mounted:function(){null===localStorage.getItem("validation_token")&&this.$router.push("/login"),this.getUser()}};var R=(0,l.Z)(N,i,[],!1,null,null,null);R.options.__file="assets/views/User.vue";const y=R.exports}}]);