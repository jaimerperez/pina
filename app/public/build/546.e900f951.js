(self.webpackChunkpina=self.webpackChunkpina||[]).push([[546],{9546:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex flex-col h-screen justify-center items-center"},[e("LoginForm")],1)};a._withStripped=!0;n(8309);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-full h-full flex flex-col justify-center items-center text-Barlow"},[a("img",{staticClass:" sm:h-4/6 sm:w-10/12 xl:w-96 xl:h-96",attrs:{src:n(607)}}),t._v(" "),a("div",{staticClass:"w-full h-full flex flex-col font-Barlow text-fontColor-primary"},[a("div",{staticClass:"flex pb-4"},[a("label",{staticClass:"w-2/6 text-right mx-3 lg:text-3xl pr-4",attrs:{for:"email"}},[t._v("Email ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.input.email,expression:"input.email"}],staticClass:"w-2/6 lg:w-4/12 lg:h-full bg-gray-200 border border-transparent focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent rounded-2xl",attrs:{type:"email",id:"email",name:"email"},domProps:{value:t.input.email},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)},input:function(e){e.target.composing||t.$set(t.input,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"flex py-2"},[a("label",{staticClass:" w-2/6 text-right mx-3 lg:text-3xl pr-4",attrs:{for:"password"}},[t._v(" Contraseña ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.input.password,expression:"input.password"}],staticClass:"w-2/6 lg:w-4/12 lg:h-full bg-gray-200 border border-transparent focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent rounded-2xl",attrs:{type:"password",id:"password",name:"password"},domProps:{value:t.input.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)},input:function(e){e.target.composing||t.$set(t.input,"password",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"relative left-9 md:left-[250px] lg:left-[450px] 2xl:left-[650px] py-2"},[a("router-link",{staticClass:"text-right mx-3 pr-4 italic lg:text-lg text-fontColor-primary",attrs:{to:"/passwordreset"}},[t._v("¿ Olvidaste la contraseña ?")])],1),t._v(" "),a("div",{staticClass:"flex  justify-center items-center mt-10"},[a("button",{staticClass:"w-4/12 lg:w-1/12 lg:h-5/6 my-3 inline-flex items-center justify-center bg-buttonColor-primary hover:bg-opacity-50 lg:text-xl text-black rounded-3xl",attrs:{type:"button"},on:{click:t.login}},[t._v("Entrar ")])])])])};r._withStripped=!0;var s=n(8933);const o={name:"Login",data:function(){return{getUsers:[],userInfo:[],teams:[],input:{email:"",password:""}}},methods:{login:function(){var t=this;localStorage.clear();var e=new FormData;e.append("email",this.input.email),e.append("password",this.input.password),(0,s.m3)(e).then((function(e){localStorage.setItem("validation_token",e);var n=localStorage.getItem("validation_token");(0,s.Nh)(n).then((function(e){t.userInfo=e,(0,s.v3)(n,t.userInfo.id).then((function(e){t.teams=e,t.$router.push("/board/"+t.teams[0].id+"/"+t.teams[0].name)}))}))})).catch((function(e){t.errorMessage=e,console.error("There was an error!",e)}))}}};var l=n(1900),i=(0,l.Z)(o,r,[],!1,null,null,null);i.options.__file="assets/components/LoginForm.vue";const u={name:"Login",components:{LoginForm:i.exports},data:function(){return{userInfo:[],teams:[]}},created:function(){var t=this;if(null!==localStorage.getItem("validation_token")){console.log("entra aqui");var e=localStorage.getItem("validation_token");(0,s.Nh)(e).then((function(n){t.userInfo=n,console.log(t.userInfo.id),(0,s.v3)(e,t.userInfo.id).then((function(e){return t.teams=e})),t.$router.push("/board/"+t.teams[0].id+"/"+t.teams[0].name)}))}}};var c=(0,l.Z)(u,a,[],!1,null,null,null);c.options.__file="assets/views/Login.vue";const p=c.exports}}]);